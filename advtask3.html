<!DOCTYPE html>
<html>
<head>
  <title>JS Practice 3 Tasks</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
    }
    h1 {
      color: #2c3e50;
    }
    pre {
      background: #fff;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      white-space: pre-wrap;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>JS tasks Outputs</h1>
  <pre id="output"></pre>

  <script>
    let result = "";

    function findLongestString(arr) {
      return arr.reduce((longest, current) =>
        current.length > longest.length ? current : longest
      );
    }
    result += "Task 1 - Longest String:\n" +
              findLongestString(['apple', 'banana', 'cherry', 'date']) + "\n\n";

    function flattenArray(nested) {
      return nested.reduce((flat, current) => flat.concat(current), []);
    }
    result += "Task 2 - Flattened Array:\n" +
              JSON.stringify(flattenArray([[1,2,3],[4,5],[6,7,8,9]])) + "\n\n";

    function countWords(words) {
      return words.reduce((countMap, word) => {
        countMap[word] = (countMap[word] || 0) + 1;
        return countMap;
      }, {});
    }
    result += "Task 3 - Word Count:\n" +
              JSON.stringify(countWords(['apple', 'banana', 'apple', 'orange', 'banana', 'apple'])) + "\n\n";

    function groupBy(arr, prop) {
      return arr.reduce((grouped, item) => {
        const key = item[prop];
        if (!grouped[key]) grouped[key] = [];
        grouped[key].push(item);
        return grouped;
      }, {});
    }
    const people = [
      { name: 'Alice', age: 21 },
      { name: 'Bob', age: 25 },
      { name: 'Charlie', age: 21 },
      { name: 'David', age: 25 },
      { name: 'Eve', age: 22 }
    ];
    result += "Task 4 - Group by Age:\n" +
              JSON.stringify(groupBy(people, 'age'), null, 2) + "\n\n";

    function calculateTotal(cart) {
      return cart.reduce((sum, item) => sum + item.price, 0);
    }
    const cart = [
      { item: 'apple', price: 1.5 },
      { item: 'banana', price: 2.0 },
      { item: 'orange', price: 1.25 }
    ];
    result += "Task 5 - Total Cart Price:\n" +
              calculateTotal(cart).toFixed(2) + "\n\n";

    function findFirstEven(nums) {
      return nums.find(num => num % 2 === 0);
    }
    result += "Task 6 - First Even:\n" +
              findFirstEven([1, 3, 7, 10, 2]) + "\n\n";

    function findStudentByName(students, name) {
      return students.find(student => student.name === name);
    }
    const students = [
      { name: 'Alice', age: 21 },
      { name: 'Bob', age: 25 },
      { name: 'Charlie', age: 23 }
    ];
    result += "Task 7 - Student 'Bob':\n" +
              JSON.stringify(findStudentByName(students, 'Bob')) + "\n\n";

    function findProductById(products, id) {
      return products.find(p => p.id === id);
    }
    const products = [
      { id: 101, name: 'Laptop' },
      { id: 102, name: 'Phone' },
      { id: 103, name: 'Tablet' }
    ];
    result += "Task 8 - Product ID 102:\n" +
              JSON.stringify(findProductById(products, 102)) + "\n\n";

    function findOverdueTask(tasks) {
      const today = new Date().toISOString().split("T")[0];
      return tasks.find(task => task.dueDate < today);
    }
    const tasks = [
      { taskName: 'Task 1', dueDate: '2023-06-01' },
      { taskName: 'Task 2', dueDate: '2024-05-01' },
      { taskName: 'Task 3', dueDate: '2024-01-01' }
    ];
    result += "Task 9 - Overdue Task:\n" +
              JSON.stringify(findOverdueTask(tasks)) + "\n\n";

    document.getElementById("output").textContent = result;
  </script>
</body>
</html>
